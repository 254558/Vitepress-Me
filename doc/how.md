# Supabase 使用总结（适用于 Vue + Vite 项目）

## 准备工作

```bash
npm install @supabase/supabase-js
```

在 `.env` 文件中添加：

```env
VITE_SUPABASE_URL=https://xxx.supabase.co
VITE_SUPABASE_KEY=你的 anon key
```

## 初始化客户端（supabase.js）

```javascript
import { createClient } from '@supabase/supabase-js'

export const supabase = createClient(
  import.meta.env.VITE_SUPABASE_URL,
  import.meta.env.VITE_SUPABASE_KEY
)
```

## 建表（todos 表）

```sql
create table todos (
  id bigint generated by default as identity primary key,
  title text not null,
  completed boolean default false
);
```

## 开启权限（开发阶段）

```sql
alter table todos enable row level security;

create policy "Allow all"
on todos
for all
using (true)
with check (true);
```

## 常用操作（增删查改）

```javascript
// 查询
await supabase.from('todos').select('*')

// 添加
await supabase.from('todos').insert({ title: '学习', completed: false })

// 更新
await supabase.from('todos').update({ completed: true }).eq('id', 1)

// 删除
await supabase.from('todos').delete().eq('id', 1)
```